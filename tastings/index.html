<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Tastings</title>
  </head>

  <body>
    <h1>
      Welcome World. Your tasting palate is about to be blown away.<br />
      Josh Bunkers
    </h1>

    <pre id="out">Loadingâ€¦</pre>

    <script type="module">
      import { createClient } from "https://esm.sh/@supabase/supabase-js@2";

      const SUPABASE_URL = "https://uzgwhofpmdgvyottchzx.supabase.co";
      const SUPABASE_ANON_KEY =
        "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV6Z3dob2ZwbWRndnlvdHRjaHp4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg0MjUwODQsImV4cCI6MjA4NDAwMTA4NH0.pJkYm8EftixLt496JEvOoSHC0Ph31kYp5NVXctG41o4";

      const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

      async function loadLeaderboard() {
        const out = document.getElementById("out");

        const { data, error } = await supabase
          .from("tasting_leaderboard")
          .select("*")
          .limit(500);

        if (error) {
          out.textContent = "Error: " + JSON.stringify(error, null, 2);
          return;
        }

        out.textContent = JSON.stringify(data, null, 2);
      }

      loadLeaderboard();
    </script>
  </body>
</html>
